/*
 * This build file was auto generated by running the Gradle 'buildSetup' task
 * by 'mikemitterer' at 'Thu May 30 17:04:18 CEST 2013' with Gradle 1.7-20130529220026+0000
 *
 * This generated file contains an out - commented sample java project
 * to get you started. For a quick start with Gradle have a look at the Java Quickstart
 * chapter in the Gradle Userguide available at http:\/\/gradle.org\/docs\/1.7-20130529220026+0000\/userguide\/tutorial_java_projects.html
 */

buildscript {
    repositories {
		// My local repository, I use this for testing...
        maven { url uri("/Volumes/programming/Maven/public.maven.repository") } 
		
		// My public GitHub Maven repository
        //maven { url uri("https://raw.github.com/MikeMitterer/public.maven.repository/master") }  
                         
    }
    dependencies {
        classpath group: 'at.mikemitterer.gradle', name: 'TexenPlugin', version: '1.5'
    }
}

apply plugin:'java' 	// applies the java plugin
apply plugin: 'idea'	
apply plugin: 'texen'

sourceCompatibility = 1.6

version = '1.1'
group = "at.mikemitterer"


jar {
	baseName = baseName.toLowerCase()
}


repositories{
	mavenLocal()
    mavenCentral() // Use 'maven central' for resolving your thirdparty dependencies.
	
	maven {
		//url uri("/Volumes/programming/Maven/public.maven.repository")  // My local repository
		url uri("https://raw.github.com/MikeMitterer/public.maven.repository/master")
	}
}

dependencies{
    // in this section you declare your dependencies for your production and your test code.

    // the production code uses the slf4j logging api at compile time
    compile 'org.slf4j:slf4j-api:1.7.5'

    // declare the dependency for your favourite test framework you want to use in your tests.
    // TestNG is also supported by the Gradle Test task. Just change the
    // testCompile dependency to testCompile 'org.testng:testng:6.8.1' and add
    // 'test.useTestNG()' to your build script.
    testCompile "junit:junit:4.11"
    
}

texenplugin {
// Default settings for texenplugin:
//-----------------------------------
	//baseDir			= "build/database"
	//outputDir			= "out"
	//templateDir		= "templates"
	//controlTemplate 	= "control.vm"
	//reportFile		= "generation.report"
	//deleteReport 		= false
	
	//deleteReport 	= true
}

/*-------------------------------------------------------------------------------------------------
 * Helper-Task for Gradle
 */
task createWrapper(type: Wrapper) {
	 gradleVersion = '1.6'
}
 
/*-------------------------------------------------------------------------------------------------
 * Sample-Tasks for TexenPlugin / TexenTask
 */
task property << {
	final String filename = "${texenplugin.baseDir}/${texenplugin.templateDir}/texen.properties"
	//println filename
	
	// Write property so that Texen/Velocity can use it
	ant.propertyfile(file: filename) {
		entry(key: "version", value: version)
	}
}

task test2(dependsOn: property, type: at.mikemitterer.gradle.TexenTask) {
	outputDir		= "out5"
}








